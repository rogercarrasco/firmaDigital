<!DOCTYPE html>
<html>
    <head>
        <title>Firma Peru Web</title>  	
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />	
        <meta name="description" content=""/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>     
        <link href="https://getbootstrap.com/docs/4.6/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>        
        <script src="https://getbootstrap.com/docs/4.6/dist/js/bootstrap.bundle.min.js" ></script>
        <script type="text/javascript">
            //<![CDATA[
            console.log("JQuery de la web demo: " + $.fn.jquery);
            //]]>
        </script>    
    </head>
    <body>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>        
        <script type="text/javascript">
            //<![CDATA[
            //Variables y funciones necesarias para el funcionamiento de Firma Perú:
            var jqFirmaPeru = jQuery.noConflict(true);

            function signatureInit() {
                //Aqui se puede poner un preload
                alert('PROCESO INICIADO');
            }

            function signatureOk() {
                //Cancelar el preload
                alert('DOCUMENTO FIRMADO');
            }

            function signatureCancel() {
                //Cancelar el preload                
                alert('OPERACIÓN CANCELADA');

            }


            //Funciones del integrador:
            function sendParam() {
                //La 
                var param = "ewogICJwYXJhbV91cmwiOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2Zpcm1hcGVydWNsaWVudGV3ZWJ0ZXN0L2FwaS9wYXJhbSIsCiAgInBhcmFtX3Rva2VuIjogIjE2MjY0NzY5NjciLAogICJkb2N1bWVudF9leHRlbnNpb24iOiAicGRmIgp9";//Base 64
                var port = "48596";
                //FUNCIÓN DE INICIO DE FIRMA DIGITAL
                startSignature(port, param);
                //++++++++++++++++++++++++++++++++++
            }
            //]]>
        </script>
        <!-- Poner la URL del servicio firmaperu.min.js -->	
                <script src="https://apps.firmaperu.gob.pe/web/clienteweb/firmaperu.min.js"></script>        
        <!--<script src="http://localhost:8080/web/clienteweb/firmaperu.min.js"></script>-->    
        <div id="addComponent" style="display:none;"></div>

        <button type="button" class="btn btn-lg btn-primary" onclick="sendParam();">INICIAR FIRMA</button>       
    </body>
</html>